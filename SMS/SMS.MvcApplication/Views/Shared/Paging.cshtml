@using Core.Common.Session
@model SMS.Common.Paging.SortingPagingInfo

@if (Model.TotalItemCount > 0)
{
<div class="row">
    <div class="eight columns">
        <ul class="pagination" id="Paginationdiv">
            <li>first</li>
            <li>prev</li>
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
            <li>6</li>
            <li>7</li>
            <li>next</li>
            <li>last</li>
        </ul>
    </div>
    <div class="four columns">
        Total: @Model.TotalItemCount record(s).
    </div>
</div>
}
<script type="text/javascript">
    var itemPerSide = 3;

    var first_time = true;
    function pageselectCallback(page_index) {
        if (first_time)
        {
            first_time = false;
            return false;
        }
        
        $('#CurrentPage').val(page_index + 1);
        SubmitSearchForm();
        return false;
    }

    function SubmitSearchForm() {
        
    }

    $(function() {
        var html = '';
        var firstLink = '<li><a href="#" data-page="1">|<</a></li>';
        var lastLink = '<li><a href="#" data-page="@Html.Raw(Model.PageCount - 1)">>|</a></li>';
        var prevLink = '<li><a href="#" data-page="@Html.Raw(Model.CurrentPage - 1)"><</a></li>';
        var nextLink = '<li><a href="#" data-page="@Html.Raw(Model.CurrentPage + 1)">></a></li>';
        
        if((@Model.CurrentPage - itemPerSide) > 1) {
            html += firstLink;
        }
        if((@Model.CurrentPage - 1) > 0) {
            html += nextLink;
        }
        
        var pageLinkTmpl = '<li></li>';

        // Create pagination element with options from form
        var optInit = 
            { 
                callback: pageselectCallback, 
                items_per_page: @UserContext.PageSize, 
                prev_text: '&laquo;', 
                next_text: '&raquo;',
                current_page: @Model.CurrentPage
            };
        $("#Paginationdiv").pagination(@Model.TotalItemCount, optInit);
    });
</script>